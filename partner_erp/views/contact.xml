<?xml version="1.0"?>
<odoo>
     <data>
         <record id="partner_contact_tree" model="ir.ui.view">
             <field name="name">partner_contact.tree</field>
             <field name="model">partner.contact</field>
             <field name="arch" type="xml">
                 <tree string="partner_contact">
                    <field name="archives_id"/>
                    <field name="name"/>
                    <field name="function"/>
                    <field name="mobile"/>
                    <field name="phone"/>
                    <field name="email" string="Email"/>
                     <field name="state"/>
                 </tree>
             </field>
         </record>
         <record id="partner_contact_form" model="ir.ui.view">
             <field name="name">partner_contact.form</field>
             <field name="model">partner.contact</field>
             <field name="arch" type="xml">
                 <form string="contact">
                    <header>
                        <field name="state" widget="statusbar"/>
                        <button name="action_approval" string="提交" type="object" states="draft" class="oe_highlight"
                                groups="partner_erp.group_all,partner_erp.group_crm_employee,partner_erp.group_crm_secretary,partner_erp.group_crm_leader"/>
                        <button name="to_done" string="审批" type="object" states="approval" class="oe_highlight"
                                groups="partner_erp.group_all,partner_erp.group_crm_secretary,partner_erp.group_crm_leader"/>
                        <button name="action_draft" string="取消" type="object" states="approval,done" class="oe_highlight"
                                groups="partner_erp.group_all,partner_erp.group_crm_secretary,partner_erp.group_crm_leader"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <label for="name" string="名称" class="oe_edit_only"/>
                            <h1><field name="name" default_focus="1" placeholder="客户联系人名称" /></h1>
                        </div>
                        <group col="8">
                            <field name="archives_id" options="{'no_create': True}" domain="[('bill_type', '=', 'partner')]"
                                   context="{'form_view_ref':'partner_erp.partner_archives_form'}"/>
                            <field name="mobile"/>
                            <field name="title"/>
                            <field name="function"/>
                            <field name="email"/>
                            <field name="phone"/>
                            <field name="identity"/>

                            <field name="country_id"/>
                            <field name="stated_id"/>
                            <field name="city"/>
                        </group>
                        <group>
                            <field name="interest"/>
                            <field name="experience_ids">
                                <tree>
                                    <field name="name"/>
                                </tree>
                            </field>
                        </group>
                        <group col="4">
                            <field name="create_uid" readonly="1"/>
                            <field name="create_date" readonly="1"/>
                         </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
             </field>
         </record>
         <record id="partner_contact_filter" model="ir.ui.view">
             <field name="name">partner_contact.select</field>
             <field name="model">partner.contact</field>
             <field name="arch" type="xml">
                 <search string="contact">
                     <field name="name" string="客户名/名称/电话" filter_domain="['|','|',('archives_id','ilike',self),('name','ilike',self),('phone','ilike',self)]"/>
                    <!--<field name="archives_id"/>-->
                    <!--<field name="name"/>-->
                    <!--<field name="email"/>-->
                    <!--<field name="phone"/>-->
                    <!--<field name="mobile"/>-->
                    <group expand="0" string="Group By">
                        <filter string="archives_id" domain="[]" context="{'group_by' : 'partner_id'}"/>
                        <filter string="country_id" domain="[]" context="{'group_by' : 'country_id'}"/>
                        <filter string="stated_id" domain="[]" context="{'group_by' :'stated_id'}"/>
                    </group>
                </search>
             </field>
         </record>
         <!--看板视图-->
         <record id='partner_contact_kanban' model='ir.ui.view'>
            <field name="name">partner_contact.kanban</field>
            <field name="model">partner.contact</field>
            <field name="arch" type="xml">
                <kanban>
                    <field name="archives_id"/>
                    <field name="name"/>
                    <field name="email"/>
                    <field name="phone"/>
                    <field name="mobile"/>
                     <templates>
                         <t t-name="kanban-box">
                             <div class="oe_kanban_global_click">
                                 <div class="o_kanban_record_top">
                                     <div class="o_kanban_record_headings">
                                         名称:<strong class="o_kanban_record_title"><field name="name"/></strong>
                                     </div>
                                 </div>
                                 <div>
                                     客户：<field name="archives_id"/>
                                 </div>
                                 <div>
                                     邮箱：<field name="email"/>
                                 </div>
                                 <div>
                                     电话：<field name="phone"/>
                                 </div>
                                 <div>
                                     手机：<field name="mobile"/>
                                 </div>
                                 <div class="row">
                                     <!--<div class="col-xs-6">-->
                                         <!--<i class="fa fa-money"/> <field name="create_uid"/>-->
                                     <!--</div>-->
                                     <!--<div class="col-xs-6 text-right">-->
                                         <!--<i class="fa fa-clock-o"/> <field name="create_date"/>-->
                                     <!--</div>-->
                                 </div>
                             </div>
                         </t>
                     </templates>
                 </kanban>
            </field>
         </record>
         <record id='partner_contact_action' model='ir.actions.act_window'>
             <field name="name">客户联系人</field>
             <field name="res_model">partner.contact</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form,kanban</field>
             <field name="help" type="html">
                 <p class="oe_view_nocontent_create">
                 Click to create a new vehicle.
               </p><p>
                 You will be able to manage your fleet by keeping track of the
                 contracts, services, fixed and recurring costs, odometers and
                 fuel logs associated to each vehicle.
             </p><p>
                 Odoo will warn you when services or contract have to be
                 renewed.
               </p>
             </field>
         </record>

     </data>
</odoo>

